{"version":3,"file":"solanaProvider.esm.js","sources":["../src/PrivateKeyWallet.ts","../src/rpc/JrpcClient.ts","../src/rpc/solanaRpcMiddlewares.ts","../src/providers/injectedProviders/injectedProviderProxy.ts","../src/providers/injectedProviders/phantom/providerHandlers.ts","../src/providers/injectedProviders/phantom/phantomInjectedProvider.ts","../src/providers/injectedProviders/torus/providerHandlers.ts","../src/providers/injectedProviders/torus/torusInjectedProvider.ts","../src/providers/privateKeyProvider/solanaPrivateKeyUtils.ts","../src/providers/privateKeyProvider/solanaPrivateKeyProvider.ts","../src/solanaWallet.ts"],"sourcesContent":[null,null,null,null,null,null,null,null,null,null,null],"names":["PrivateKeyWallet","constructor","provider","requestAccounts","accounts","request","method","params","signAndSendTransaction","transaction","signedTx","signTransaction","sig","bs58","encode","serialize","signature","sendTransaction","privateKey","keyPair","Keypair","fromSecretKey","Buffer","from","partialSign","signAllTransactions","transactions","map","signMessage","data","nacl","sign","detached","secretKey","args","result","createChainIdMiddleware","chainId","req","res","next","end","createProviderConfigMiddleware","providerConfig","createConfigMiddleware","configMiddleware","mergeMiddleware","createJsonRpcClient","rpcTarget","fetchMiddleware","createFetchMiddleware","networkMiddleware","createGetAccountsMiddleware","getAccounts","createAsyncMiddleware","response","Error","undefined","createRequestAccountsMiddleware","createGenericJRPCMiddleware","targetMethod","handler","createSolanaMiddleware","providerHandlers","getPrivateKey","getSecretKey","createChainSwitchMiddleware","addNewChainConfig","switchSolanaChain","createAccountMiddleware","updatePrivatekey","createInjectedProviderProxyMiddleware","_next","_objectSpread","getPhantomHandlers","injectedProvider","publicKey","toBytes","ethErrors","rpc","methodNotSupported","message","decode","txn","Transaction","txRes","length","invalidParams","txns","msg","decodedMsg","PhantomInjectedProvider","BaseProvider","config","state","chainConfig","chainNamespace","CHAIN_NAMESPACES","SOLANA","switchChain","_","Promise","resolve","setupProvider","solanaMiddleware","injectedProviderProxy","engine","JRPCEngine","push","providerFromEngine","updateProviderEngineProxy","lookupNetwork","update","getTorusHandlers","toString","buf","sendTx","messages","TorusInjectedProvider","handleInjectedProviderUpdate","setupEngine","custom","code","connectedChainId","connectedHexChainId","isHexStrict","parseInt","WalletInitializationError","rpcConnectionError","emit","on","configure","getProviderHandlers","privKey","getProviderEngineProxy","transactionGenerator","serializedTx","decodedTx","tx","keyPairGenerator","toBase58","signedMsg","_providerEngineProxy","signedTransactions","SolanaPrivateKeyProvider","enable","bind","getChainSwitchMiddleware","getAccountMiddleware","updateAccount","existingKey","getChainConfig","health","chainSwitchHandlers","chainName","rpcUrls","blockExplorerUrls","nativeCurrency","addChain","ticker","symbol","tickerName","name","displayName","blockExplorer","chainSwitchMiddleware","accountHandlers","providerFactory","SolanaWallet","requireAllSignatures","signedTransaction"],"mappings":"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"}